{% extends 'userapp1/main.html' %}
{% load static %}
{% block content %}

{% block title%}
<title>product deails</title>
{% endblock title%}

<link rel="stylesheet" href="{% static 'userapp1/productdetails.css' %}">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>


<!-- Product Details to the user side  -->
<div class="container mt-5">
  <div class="row">
    <div class="col-md-6">
      <div class="row">
        <div class="col-10">
          <img id="mainImg" src="{{ product.image1.url }}" alt="{{ product.product_name }}" class="img-fluid">
        </div>
        <div class="col-2 d-flex flex-column align-items-end justify-content-end">
          <img id="img1" onclick="clickedImg1('{{ product.image1.url }}')" src="{{ product.image1.url }}" alt="{{ product.product_name }}" class="img-fluid my-3">
          <img id="img2" onclick="clickedImg1('{{ product.image2.url }}')" src="{{ product.image2.url }}" alt="{{ product.product_name }}" class="img-fluid my-3">
          <img id="img3" onclick="clickedImg1('{{ product.image3.url }}')" src="{{ product.image3.url }}" alt="{{ product.product_name }}" class="img-fluid my-3">
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <h1 class="text-center">{{ product.product_name }}</h1>
      <h3 class="text-center ms-1 text-danger" >â‚¹ {{ product.selling_price }}</h3>
      <p class="mt-5 fw-bold">{{product.description}}</p>
      {% if product.stock > 0 %}
      <button class="bg-warning py-2 px-5 text-white"><i class="fa-solid fa-cart-shopping"></i> ADD TO CART</button>
      <button class="bg-danger ms-5 py-2 px-5  text-white" ><i class="fa-regular fa-heart "></i> ADD TO WISHLIST</button>
      {% else %}
      <button class="bg-danger ms-5 py-2 px-5 text-white  ">OUT OF STOCK</button>
      {% endif %}
    </div>
  </div>
</div>


<!-- Similar products if user click the paticular products we want to dispaly similar kind of products hee -->

{% if similar_products %}
    <h1 class="mt-5 text-center text-success">Similar kind of products</h1>
    <div class="container my-5 text-center">
        <div class="row">
            {% for similar_product in similar_products %}
                {% if similar_product.category.is_listed and similar_product.brand.is_listed and similar_product.is_listed %}
                <div class="col-md-3 my-3 mx-3">
                    <a class="text-decoration-none" href="{% url 'productdetails' similar_product.id %}">
                        <img src="{{ similar_product.image1.url }}" alt="{{ similar_product.product_name }}" class="img-fluid" style="height: 220px; width: 300px;">
                        <p class="product-name text-black fw-bold my-3">{{ similar_product.product_name }}</p>
                        <p class="product-price text-danger">${{ similar_product.selling_price }}</p>
                    </a>
                    <a href="#" class="btn btn-success">Shop Now</a>
                </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
{% else %}
    <h1 class="mt-5 text-center text-danger">No similar products available</h1>
{% endif %}








<script>
  function clickedImg1(url){
    const mainImg= document.getElementById('mainImg')
    mainImg.setAttribute('src',url)
  }

  function clickedImg2(url){
    const mainImg =document.getElementById('mainImg')
    mainImg.setAttribute('src',url)
  }

  function clickedImg3(url){
    const mainImg =document.getElementById('mainImg')
    mainImg.setAttribute('src',url)
  }
</script>

{% endblock %}
